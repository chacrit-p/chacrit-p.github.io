<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Pokemon Lab
    </title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body>
    <div class="container p-10 mx-auto">
        <div id="pokemon">

        </div>
    </div>

    <script>
        const pokemonDiv = document.getElementById("pokemon");

        function createPokemonCard(pokemon) {
            const div = document.createElement("div");

            const name = `<p>Name: ${pokemon.name}</p>`;
            const abilities = `<p>Abilities: ${pokemon.abilities.map(ability => ability.ability.name).join(', ')}</p>`;
            const image = `<img src="${pokemon.sprites.front_default}" alt="${pokemon.name}" style="width: 100px; height: 100px;">`; // Adjust width and height as needed
            const type = `<p>Type: ${pokemon.types.map(type => type.type.name).join(', ')}</p>`;

            div.innerHTML = name + abilities + image + type;
            pokemonDiv.appendChild(div);
        }

        function getUrlParameter(name) {
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            return urlParams.get(name)
        }

        const pokemonName = getUrlParameter('name');
        const url = "https://pokeapi.co/api/v2/pokemon/" + pokemonName

        axios.get(url)
            .then((res) => {
                const pokemon = res.data
                document.title = pokemon.name
                createPokemonCard(pokemon)
            })
            .catch((err) => {
                console.log(err);
            });
    </script>
</body>

</html>